// 0 = empty, 1 = player, 2 = goal, 3 = wall

export const TILE = {
  EMPTY: 0,
  PLAYER: 1,
  GOAL: 2,
  WALL: 3,
}

// 5 levels, each with 2 boards of 10x10
export const levels = [
  {
    id: 1,
    boards: [
      [
        [1, 0, 3, 0, 0, 0, 0, 0, 3, 0],
        [0, 0, 3, 0, 3, 3, 3, 0, 3, 0],
        [0, 0, 0, 0, 0, 0, 3, 0, 0, 0],
        [3, 3, 0, 3, 3, 0, 3, 3, 3, 0],
        [0, 0, 0, 0, 3, 0, 0, 0, 0, 0],
        [0, 3, 3, 0, 3, 0, 3, 3, 3, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 3, 0],
        [0, 3, 3, 3, 3, 3, 3, 0, 3, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 3, 0],
        [0, 3, 3, 3, 3, 3, 0, 0, 0, 2],
      ],
      [
        [0, 0, 0, 3, 3, 3, 0, 0, 0, 1],
        [0, 3, 0, 0, 0, 0, 0, 3, 0, 0],
        [0, 3, 0, 3, 3, 3, 0, 3, 3, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 3, 0],
        [3, 3, 3, 3, 3, 0, 3, 0, 3, 0],
        [0, 0, 0, 0, 3, 0, 3, 0, 0, 0],
        [0, 3, 3, 0, 0, 0, 3, 3, 3, 0],
        [0, 3, 0, 0, 3, 0, 0, 0, 3, 0],
        [0, 3, 0, 3, 3, 3, 3, 0, 3, 0],
        [2, 0, 0, 0, 0, 0, 0, 0, 0, 0],
      ],
    ],
  },
  {
    id: 2,
    boards: [
      [
        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        [0, 1, 0, 0, 3, 0, 0, 0, 0, 0],
        [0, 3, 3, 0, 3, 0, 3, 3, 3, 0],
        [0, 0, 0, 0, 3, 0, 0, 0, 3, 0],
        [0, 3, 0, 3, 3, 0, 3, 0, 3, 0],
        [0, 3, 0, 0, 0, 0, 3, 0, 0, 0],
        [0, 0, 0, 3, 3, 0, 3, 3, 3, 0],
        [0, 3, 0, 0, 3, 0, 0, 0, 0, 0],
        [0, 3, 3, 0, 3, 3, 3, 3, 3, 2],
        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
      ],
      [
        [1, 0, 3, 0, 0, 0, 0, 3, 0, 0],
        [0, 0, 3, 0, 3, 3, 0, 3, 0, 3],
        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        [0, 3, 3, 3, 3, 3, 3, 3, 3, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 3, 0],
        [3, 3, 3, 3, 3, 0, 3, 0, 3, 0],
        [0, 0, 0, 0, 0, 0, 3, 0, 0, 0],
        [0, 3, 3, 3, 3, 0, 3, 3, 3, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 3, 0],
        [0, 3, 0, 3, 0, 3, 0, 0, 0, 2],
      ],
    ],
  },
  {
    id: 3,
    boards: [
      [
        [1, 0, 0, 0, 3, 0, 0, 0, 0, 0],
        [3, 3, 3, 0, 3, 0, 3, 3, 3, 0],
        [0, 0, 0, 0, 3, 0, 0, 0, 3, 0],
        [0, 3, 0, 3, 3, 3, 0, 3, 3, 0],
        [0, 3, 0, 0, 0, 0, 0, 3, 0, 0],
        [0, 3, 3, 3, 3, 3, 0, 3, 0, 3],
        [0, 0, 0, 0, 0, 0, 0, 3, 0, 0],
        [3, 3, 3, 3, 3, 3, 0, 3, 3, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        [0, 3, 3, 3, 3, 3, 3, 3, 3, 2],
      ],
      [
        [0, 0, 0, 0, 0, 0, 0, 0, 1, 0],
        [0, 3, 3, 3, 3, 3, 3, 0, 3, 0],
        [0, 0, 0, 0, 0, 0, 3, 0, 0, 0],
        [0, 3, 3, 3, 3, 0, 3, 3, 3, 0],
        [0, 3, 0, 0, 0, 0, 0, 0, 3, 0],
        [0, 3, 0, 3, 3, 3, 3, 0, 3, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 3, 0],
        [3, 3, 3, 3, 3, 3, 3, 0, 3, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        [2, 3, 3, 3, 3, 3, 3, 3, 3, 0],
      ],
    ],
  },
  {
    id: 4,
    boards: [
      [
        [0, 0, 0, 0, 0, 3, 0, 0, 0, 2],
        [0, 3, 3, 3, 0, 3, 0, 3, 3, 3],
        [0, 3, 0, 0, 0, 3, 0, 0, 0, 0],
        [0, 3, 0, 3, 3, 3, 3, 3, 3, 0],
        [0, 0, 0, 3, 0, 0, 0, 0, 3, 0],
        [3, 3, 0, 3, 0, 3, 3, 0, 3, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 3, 0],
        [0, 3, 3, 3, 3, 3, 3, 0, 3, 0],
        [1, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        [3, 3, 3, 3, 3, 3, 3, 3, 3, 0],
      ],
      [
        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        [0, 3, 3, 3, 3, 3, 3, 3, 3, 0],
        [0, 3, 0, 0, 0, 0, 0, 0, 3, 0],
        [0, 3, 0, 3, 3, 3, 3, 0, 3, 0],
        [0, 0, 0, 3, 0, 0, 0, 0, 3, 2],
        [3, 3, 0, 3, 0, 3, 3, 0, 3, 0],
        [0, 0, 0, 3, 0, 0, 0, 0, 3, 0],
        [0, 3, 3, 3, 3, 3, 3, 3, 3, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        [1, 3, 3, 3, 3, 3, 3, 3, 3, 0],
      ],
    ],
  },
  {
    id: 5,
    boards: [
      [
        [3, 3, 3, 3, 3, 3, 3, 3, 3, 2],
        [1, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        [0, 3, 3, 3, 3, 3, 3, 3, 3, 0],
        [0, 3, 0, 0, 0, 0, 0, 0, 3, 0],
        [0, 3, 0, 3, 3, 3, 3, 0, 3, 0],
        [0, 3, 0, 0, 0, 0, 3, 0, 3, 0],
        [0, 3, 3, 3, 3, 0, 3, 0, 3, 0],
        [0, 0, 0, 0, 3, 0, 0, 0, 3, 0],
        [3, 3, 3, 0, 3, 3, 3, 0, 3, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
      ],
      [
        [0, 0, 0, 0, 0, 0, 0, 0, 0, 2],
        [0, 3, 3, 3, 3, 3, 3, 3, 0, 0],
        [0, 3, 0, 0, 0, 0, 0, 3, 0, 3],
        [0, 3, 0, 3, 3, 3, 0, 3, 0, 3],
        [0, 3, 0, 3, 0, 0, 0, 3, 0, 0],
        [0, 3, 0, 3, 0, 3, 3, 3, 3, 0],
        [0, 0, 0, 3, 0, 0, 0, 0, 0, 0],
        [3, 3, 0, 3, 3, 3, 3, 3, 3, 0],
        [1, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        [3, 3, 3, 3, 3, 3, 3, 3, 3, 0],
      ],
    ],
  },
]

export const validateBoards = () => {
  const errors = []
  levels.forEach((level) => {
    level.boards.forEach((board, bIdx) => {
      if (board.length !== 10) {
        errors.push(`Level ${level.id} board ${bIdx + 1}: must have 10 rows`)
      }
      let players = 0
      let goals = 0
      board.forEach((row, rIdx) => {
        if (row.length !== 10) {
          errors.push(`Level ${level.id} board ${bIdx + 1} row ${rIdx + 1}: must have 10 cols`)
        }
        row.forEach((cell) => {
          if (cell === TILE.PLAYER) players += 1
          if (cell === TILE.GOAL) goals += 1
        })
      })
      if (players !== 1) {
        errors.push(
          `Level ${level.id} board ${bIdx + 1}: must have exactly 1 player, got ${players}`,
        )
      }
      if (goals !== 1) {
        errors.push(`Level ${level.id} board ${bIdx + 1}: must have exactly 1 goal, got ${goals}`)
      }
    })
  })
  return errors
}
